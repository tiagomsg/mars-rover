group 'com.moj.codetest'
version '1.0'

task wrapper(type: Wrapper) {
  gradleVersion = '2.5'
  distributionUrl = "https://services.gradle.org/distributions/gradle-$gradleVersion-all.zip"
}

apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'application'


sourceCompatibility = 1.8
mainClassName = "com.moj.codetest.Application"

repositories {
    mavenCentral()
}

dependencies {
    testCompile 'org.mockito:mockito-core:1.10.19'
    testCompile group: 'junit', name: 'junit', version: '4.11'
    testCompile 'org.powermock:powermock-api-mockito:1.6.4'
    testCompile 'org.powermock:powermock-module-junit4:1.6.4'
}

task runApp(type: JavaExec) {
    classpath = sourceSets.main.runtimeClasspath

    main = 'com.moj.codetest.Application'

    // arguments to pass to the application
    args './src/main/resources/defaultInputInstructions.txt'
}

distributions {
    main {
        contents {
            from { 'README.md' }
            from { 'build/docs/' }
            from { 'src/main/resources/defaultInputInstructions.txt' }
        }
    }
}